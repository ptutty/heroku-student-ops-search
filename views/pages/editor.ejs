<!DOCTYPE HTML>
<html>

<head>
    <% include ../partials/header.ejs %>
    <!-- when using the mode "code", it's important to specify charset utf-8 -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <link href="jsoneditor/dist/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <script src="jsoneditor/dist/jsoneditor.min.js"></script>
</head>

<body>
     <% include ../partials/nav.ejs %>

    <div class="container" >
        <h2>Edit SO Teams json</h2>
        <p>Edit initial keywords and websites to crawl for each team.<p>

            <div id="app">
        <button type="button" class="btn btn-lg btn-primary " v-on:click="saveSeedEdits(editor.getText())"><span
                class="glyphicon glyphicon-flash"></span>Save edits</button>
                <button type="button" class="btn btn-lg btn-default" ><span
                        class="glyphicon glyphicon-flash"></span>Restore file</button>
                    </div>
    <div id="jsoneditor" style="width: 100%; height: 100%;"></div>

    </div>

    <script>
        // create the editor
        var container = document.getElementById("jsoneditor");
        var options = {};
        var editor = new JSONEditor(container, options);

        // set json
       
        $.ajax({
            'async': false,
            'global': false,
            'url': "../data/teams.json",
            'dataType': "json",
            'success': function (data) {
                editor.set(data);
                var json = editor.get();
            }
        });

        
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="/js/vue-code.js"></script>
</body>

</html>