<!DOCTYPE HTML>
<html>

<head>
    <% include ../partials/header.ejs %>
    <!-- when using the mode "code", it's important to specify charset utf-8 -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>

<body>
    <% include ../partials/nav.ejs %>

    <div class="container">
        <h2>Edit SO Teams json</h2>
        <p>Edit initial keywords and websites to crawl for each team.<p>

                <div id="app">
                    <button type="button" class="btn btn-lg btn-primary "
                        v-on:click="saveSeedEdits(editor.getText())"><span class="glyphicon glyphicon-flash"></span>Save
                        edits</button>
                </br></br>

                    <div class="alert alert-info text-center" v-if="message" role="alert">
                        {{ message }}
                    </div>

                </div>
                <div id="jsoneditor" style="width: 100%; height: 100%;"></div>

    </div>

    <script>
        // create the editor
        var container = document.getElementById("jsoneditor");
        var options = {};
        var editor = new JSONEditor(container, options);

        // set json
        $.ajax({
            'async': false,
            'global': false,
            'url': "../data/teams.json",
            'dataType': "json",
            'success': function (data) {
                editor.set(data);
                var json = editor.get();
            }
        });
    </script>

    <% include ../partials/footer.ejs %>
</body>

</html>